<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Proxy</title>
  <link rel="stylesheet" href="style.css">

  <style>
    /* ensure proxy fills available space */
    html, body {
      height: 100%;
      margin: 0;
    }

    .container {
      padding: 0;
      height: calc(100vh - 64px); /* adjust if your app bar height differs */
    }

    #proxyFrame {
      width: 100%;
      height: 100%;
      border: none;
      background: #000;
    }
  </style>
</head>
<body>

  <!-- APP BAR (same structure as other pages) -->
  <div class="app-bar">
    <div class="recent" id="recentList"></div>

    <div class="nav">
      <a href="homepage.html">Home</a>
      <a href="games.html">Games</a>
      <a class="active" href="proxy.html">Proxy</a>
      <a href="settings.html">Settings</a>
    </div>

    <div class="search">
      <input id="proxyInput" type="search" placeholder="Enter URLâ€¦" autocomplete="off">
    </div>
  </div>

  <!-- PROXY AREA -->
  <div class="container">
    <iframe id="proxyFrame"></iframe>
  </div>

  <script>
    /* keep recent bar consistent */
    const STORAGE_KEYS = { recent: 'fnf_recent' };

    function renderRecent() {
      const list = document.getElementById('recentList');
      list.innerHTML = '';
      const recent = JSON.parse(localStorage.getItem(STORAGE_KEYS.recent) || '[]').slice(0, 5);
      recent.forEach(item => {
        const div = document.createElement('div');
        div.className = 'recent-item';
        div.textContent = item.name;
        list.appendChild(div);
      });
    }

    renderRecent();

    /* proxy loader */
    const input = document.getElementById('proxyInput');
    const frame = document.getElementById('proxyFrame');

    input.addEventListener('keydown', e => {
      if (e.key === 'Enter') loadProxy();
    });

    function loadProxy() {
      let url = input.value.trim();
      if (!url) return;

      if (!url.startsWith('http')) {
        url = 'https://' + url;
      }

      /* CHANGE THIS LINE LATER */
      const PROXY_BASE = 'https://cdn.jsdelivr.net/gh/alecishavoc/game.paradise.games1/UV-Static-2.0-main/active/index.html';

      frame.src = PROXY_BASE + encodeURIComponent(url);
    }
  </script>

</body>
</html>
